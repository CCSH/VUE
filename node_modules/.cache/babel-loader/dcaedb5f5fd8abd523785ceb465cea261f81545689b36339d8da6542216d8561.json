{"ast":null,"code":"import _ElementUI2 from \"element-ui/lib/theme-chalk/index.css\";\nimport _ElementUI from \"element-ui/lib\";\nimport Vue from 'vue';\nimport App from './App.vue';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport router from './router';\nimport store from './store';\nimport Cookie from 'js-cookie';\nimport '@/assets/css/global.less';\nimport '@/assets/css/common.less';\n\n//全局引入\nVue.use(_ElementUI);\nVue.config.productionTip = false;\n\n//添加全局守卫\nrouter.beforeEach((to, from, next) => {\n  const token = Cookie.get('token');\n  if (!token && to.name !== 'login') {\n    //未登录 不在登录页面 跳转登录\n    next({\n      name: 'login'\n    });\n  } else if (token && to.name === 'login') {\n    //登录了 去登录页面 跳转首页\n    next({\n      name: 'home'\n    });\n  } else {\n    next();\n  }\n});\n\n//清空Cookie\nVue.prototype.cleanCookie = function () {\n  var cookies = document.cookie.split(';');\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n    var position = cookie.indexOf('=');\n    var name = position > -1 ? cookie.substr(0, position) : cookie;\n    var domain = window.location.hostname;\n    var path = '/';\n    document.cookie = name + '=; expires=Thu, 01-Jan-70 00:00:01 GMT; domain=' + domain + '; path=' + path;\n  }\n};\nnew Vue({\n  router,\n  store,\n  data() {\n    return {};\n  },\n  render: h => h(App),\n  created() {\n    //重新处理路由\n    store.commit('handleRouter', router);\n  }\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","store","Cookie","use","_ElementUI","config","productionTip","beforeEach","to","from","next","token","get","name","prototype","cleanCookie","cookies","document","cookie","split","i","length","position","indexOf","substr","domain","window","location","hostname","path","data","render","h","created","commit","$mount"],"sources":["/Users/csh/Desktop/项目/VUE/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport router from './router'\nimport store from './store'\nimport Cookie from 'js-cookie'\nimport '@/assets/css/global.less'\nimport '@/assets/css/common.less'\n\n//全局引入\nVue.use(ElementUI)\n\nVue.config.productionTip = false\n\n//添加全局守卫\nrouter.beforeEach((to, from, next) => {\n  const token = Cookie.get('token')\n  if (!token && to.name !== 'login') {\n    //未登录 不在登录页面 跳转登录\n    next({ name: 'login' })\n  } else if (token && to.name === 'login') {\n    //登录了 去登录页面 跳转首页\n    next({ name: 'home' })\n  } else {\n    next()\n  }\n})\n\n//清空Cookie\nVue.prototype.cleanCookie = function () {\n  var cookies = document.cookie.split(';')\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i]\n    var position = cookie.indexOf('=')\n    var name = position > -1 ? cookie.substr(0, position) : cookie\n    var domain = window.location.hostname\n    var path = '/'\n    document.cookie =\n      name +\n      '=; expires=Thu, 01-Jan-70 00:00:01 GMT; domain=' +\n      domain +\n      '; path=' +\n      path\n  }\n}\n\nnew Vue({\n  router,\n  store,\n  data() {\n    return {}\n  },\n  render: (h) => h(App),\n  created() {\n    //重新处理路由\n    store.commit('handleRouter', router)\n  },\n}).$mount('#app')\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAE3B,OAAO,sCAAsC;AAC7C,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAO,0BAA0B;AACjC,OAAO,0BAA0B;;AAEjC;AACAJ,GAAG,CAACK,GAAG,CAAAC,UAAA,CAAW;AAElBN,GAAG,CAACO,MAAM,CAACC,aAAa,GAAG,KAAK;;AAEhC;AACAN,MAAM,CAACO,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGT,MAAM,CAACU,GAAG,CAAC,OAAO,CAAC;EACjC,IAAI,CAACD,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAK,OAAO,EAAE;IACjC;IACAH,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAQ,CAAC,CAAC;EACzB,CAAC,MAAM,IAAIF,KAAK,IAAIH,EAAE,CAACK,IAAI,KAAK,OAAO,EAAE;IACvC;IACAH,IAAI,CAAC;MAAEG,IAAI,EAAE;IAAO,CAAC,CAAC;EACxB,CAAC,MAAM;IACLH,IAAI,EAAE;EACR;AACF,CAAC,CAAC;;AAEF;AACAZ,GAAG,CAACgB,SAAS,CAACC,WAAW,GAAG,YAAY;EACtC,IAAIC,OAAO,GAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC;EACxC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,OAAO,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IACvC,IAAIF,MAAM,GAAGF,OAAO,CAACI,CAAC,CAAC;IACvB,IAAIE,QAAQ,GAAGJ,MAAM,CAACK,OAAO,CAAC,GAAG,CAAC;IAClC,IAAIV,IAAI,GAAGS,QAAQ,GAAG,CAAC,CAAC,GAAGJ,MAAM,CAACM,MAAM,CAAC,CAAC,EAAEF,QAAQ,CAAC,GAAGJ,MAAM;IAC9D,IAAIO,MAAM,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ;IACrC,IAAIC,IAAI,GAAG,GAAG;IACdZ,QAAQ,CAACC,MAAM,GACbL,IAAI,GACJ,iDAAiD,GACjDY,MAAM,GACN,SAAS,GACTI,IAAI;EACR;AACF,CAAC;AAED,IAAI/B,GAAG,CAAC;EACNE,MAAM;EACNC,KAAK;EACL6B,IAAIA,CAAA,EAAG;IACL,OAAO,CAAC,CAAC;EACX,CAAC;EACDC,MAAM,EAAGC,CAAC,IAAKA,CAAC,CAACjC,GAAG,CAAC;EACrBkC,OAAOA,CAAA,EAAG;IACR;IACAhC,KAAK,CAACiC,MAAM,CAAC,cAAc,EAAElC,MAAM,CAAC;EACtC;AACF,CAAC,CAAC,CAACmC,MAAM,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}